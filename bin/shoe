#!/usr/bin/env ruby

def create_file(name, contents)
  project_name = File.basename(File.expand_path(Dir.pwd))

  if File.exists?(name)
    STDERR.puts("#{name} exists. Not clobbering.")
  else
    File.open(name, 'w') { |file| file.write(contents.gsub('NAME', project_name)) }
  end
end

# TODO read about heredocs at http://tomayko.com to see if I can clean this up a little.
create_file 'Rakefile', <<-END
begin
  require 'shoe'
rescue LoadError
  abort 'Please `gem install shoe` to get started.'
end

Shoe.tie('NAME', '0.1.0', 'TODO write a summary of NAME here.') do |spec|
  # spec.add_development_dependency 'shoulda'
end
END

create_file 'README.rdoc', <<-END
= NAME

NAME is one of my favorite things! Let me tell you about it:
END
