#!/usr/bin/env ruby

if File.exists?('Rakefile')
  abort 'Rakefile exists. Not clobbering.'
end

File.open('Rakefile', 'w') do |file|
  file.write <<-END_RAKEFILE.gsub('NAME', File.basename(File.expand_path(Dir.pwd)))
this_rakefile_uses_shoe = <<END
----------------------------------------
Please install Shoe:
gem sources --add http://gems.github.com
gem install matthewtodd-shoe
----------------------------------------
END

begin
  gem 'matthewtodd-shoe'
rescue Gem::LoadError
  abort this_rakefile_uses_shoe
else
  require 'shoe'
end

Shoe.tie('NAME', '0.1.0', 'TODO write a summary of NAME here.') do |spec|
  # spec.add_development_dependency 'thoughtbot-shoulda'
end
  END_RAKEFILE
end
