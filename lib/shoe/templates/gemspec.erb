$:.unshift File.expand_path('../lib', __FILE__)
require '<%= project_name %>/version'

Gem::Specification.new do |spec|
  spec.name    = '<%= project_name %>'
  spec.version = <%= project_module %>::VERSION

  spec.summary = ''
  spec.description = spec.summary
  spec.author = '<%= `git config --get user.name`.chomp %>'
  spec.email  = '<%= `git config --get user.email`.chomp %>'
  spec.homepage = 'http://github.com/<%= `git config --get github.user`.chomp %>/<%= project_name %>'

  def spec.git_files(glob=nil)
    `git ls-files -z #{glob}`.split("\0")
  end

  spec.files       = spec.git_files
  spec.executables = spec.git_files('bin/*').map { |f| File.basename(f) }
  spec.extensions  = spec.git_files('ext/**/extconf.rb')

  spec.extra_rdoc_files = spec.git_files('**/*.rdoc')
  spec.rdoc_options     = %W(
    --main README.rdoc
    --title #{spec.full_name}
    --inline-source
  )
end
